# How to use SOAP with PHP Guzzle?
// plain

Using SOAP with PHP Guzzle is easy and straightforward.

```php
$client = new \GuzzleHttp\Client();
$soapClient = new \SoapClient('http://example.com/wsdl?wsdl', array('soap_version' => SOAP_1_2));
$response = $client->request('POST', 'http://example.com/soap', [
    'body' => $soapClient->__getLastRequest()
]);
```

The above code will send a SOAP request to `http://example.com/soap` using the `__getLastRequest()` method of the `SoapClient` object.

## Code explanation


1. `$client = new \GuzzleHttp\Client();` - This creates a new Guzzle client object.
2. `$soapClient = new \SoapClient('http://example.com/wsdl?wsdl', array('soap_version' => SOAP_1_2));` - This creates a new SoapClient object with the specified WSDL and SOAP version.
3. `$response = $client->request('POST', 'http://example.com/soap', [ 'body' => $soapClient->__getLastRequest() ]);` - This sends a POST request to `http://example.com/soap` with the body of the request being the last SOAP request generated by the SoapClient object.

## Helpful links

- [Guzzle Documentation](http://docs.guzzlephp.org/en/stable/)
- [PHP SoapClient Documentation](https://www.php.net/manual/en/class.soapclient.php)

onelinerhub: [How to use SOAP with PHP Guzzle?](https://onelinerhub.com/php-guzzle/how-to-use-soap-with-php-guzzle)